(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=n(2),l=q(r),i=n(525),u=n(539),c=q(n(549)),s=q(n(548)),d=n(522),m=q(n(545)),f=n(82),p=n(37),h=q(n(624)),y=q(n(625)),g=q(n(626)),E=q(n(540)),b=q(n(572)),v=q(n(627)),C=q(n(586)),w=q(n(552)),N=q(n(568)),S=q(n(866)),k=q(n(556)),P=q(n(617)),D=q(n(628)),x=q(n(580)),j=q(n(629)),_=q(n(582)),R=q(n(622)),O=q(n(581)),T=q(n(596)),M=q(n(597)),A=q(n(560)),L=q(n(573)),I=q(n(616));function q(e){return e&&e.__esModule?e:{default:e}}function F(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function a(o,r){try{var l=t[o](r),i=l.value}catch(e){return void n(e)}if(!l.done)return Promise.resolve(i).then(function(e){a("next",e)},function(e){a("throw",e)});e(i)}("next")})}}function J(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var z=function(e){function t(){var e,n,o,r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var l=arguments.length,i=Array(l),u=0;u<l;u++)i[u]=arguments[u];return n=o=J(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),o.entryId=null,o.randomGradient=t.getRandomGradient(),o.state={entry:{Components:[],StudentName:"",StudentClass:"",StudentSection:"",StudentRoll:"",IssueDate:new Date,ProjectName:""},showProjectConfirmationDialog:!1,completedDelete:!1,showProcessing:!1,showComponentRemovalDialog:!1,removalComponent:null,nonExistentEntry:!1,showStudentAddDialog:!1,newStudentName:"",showNewComponentDialog:!1,currentlyEditingComponent:"",components:[]},o.startNewComponentTransaction=function(){return o.setState({showNewComponentDialog:!0})},o.editField=function(e){return function(t){return o.setState(function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({},e,t.target.value))}},o.confirmCompletion=function(){return o.setState({showProjectConfirmationDialog:!0})},o.confirmComponentRemoval=function(e){return function(t){return o.setState({showComponentRemovalDialog:!0,removalComponent:e})}},o.hideProjectCompletionDialog=function(){return o.setState({showProjectConfirmationDialog:!1})},o.hideComponentRemovalDialog=function(){return o.setState({showComponentRemovalDialog:!1})},o.completeProject=F(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o.hideProjectCompletionDialog(),o.setState({showProcessing:!0}),e.next=4,fetch("http://bakaa.bid:1336/entry/"+o.entryId,{method:"DELETE"});case 4:200===e.sent.status&&o.setState({completedDelete:!0});case 6:case"end":return e.stop()}},e,r)})),o.removeComponent=F(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://bakaa.bid:1336/entry/"+o.entryId,{method:"PUT",body:JSON.stringify({components:o.state.entry.Components.filter(function(e){return e.name!==o.state.removalComponent.name}),deletingComponent:o.state.entry.Components.filter(function(e){return e.name===o.state.removalComponent.name})[0]})});case 2:201===e.sent.status&&(o.hideComponentRemovalDialog(),o.setState(function(e){return{entry:a({},e.entry,{Components:e.entry.Components.filter(function(t){return t.name!==e.removalComponent.name})}),removalComponent:null}}));case 4:case"end":return e.stop()}},e,r)})),o.editComponent=function(e){return function(e){}},o.addStudentDialog=function(){return o.setState({showStudentAddDialog:!0})},o.closeStudentDialog=function(){return o.setState({showStudentAddDialog:!1})},o.addStudent=F(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://bakaa.bid:1336/student/add",{method:"POST",body:JSON.stringify({name:o.state.newStudentName,id:o.entryId})});case 2:201===e.sent.status&&o.setState(function(e){return{entry:a({},e.entry,{StudentName:e.entry.StudentName+","+e.newStudentName}),showStudentAddDialog:!1,newStudentName:""}});case 4:case"end":return e.stop()}},e,r)})),o.endCurrentComponent=function(){o.setState(function(e){return 0===e.currentlyEditingComponent.trim().length?{}:{currentlyEditingComponent:"",entry:a({},e.entry,{Components:[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e.entry.Components),[{name:e.currentlyEditingComponent,quantity:"1"}])})}})},o.changeComponentQuantity=function(e){return function(t){t.persist(),o.setState(function(n){if(/^\d+$/.test(t.target.value)||0===t.target.value.length){var o=JSON.parse(JSON.stringify(n));return o.entry.Components[e]=a({},n.entry.Components[e],{quantity:t.target.value}),o}})}},o.deleteChip=function(e){return function(t){return o.setState(function(t){return{entry:a({},t.entry,{Components:t.entry.Components.filter(function(t,n){return n!==e})})}})}},o.closeNewComponentDialog=function(){return o.setState({showNewComponentDialog:!1})},o.sendEditRequest=F(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://bakaa.bid:1336/component/add/"+o.entryId,{method:"POST",body:JSON.stringify({components:o.state.entry.Components},null,4)});case 2:e.sent;case 3:case"end":return e.stop()}},e,r)})),J(o,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.Component),o(t,[{key:"fetchEntryDetails",value:function(){var e=F(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://bakaa.bid:1336/entries/"+this.entryId);case 2:if(200!==(t=e.sent).status){e.next=12;break}return e.next=6,t.json();case 6:n=e.sent,(a=n.entry).Components=JSON.parse(a.Components),this.setState({entry:a}),e.next=13;break;case 12:404===t.status&&this.setState({nonExistentEntry:!0});case 13:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"fetchComponents",value:function(){var e=F(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://bakaa.bid:1336/components");case 2:if(200!==(t=e.sent).status){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,a=n.components,this.setState({components:a});case 9:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.entryId=this.props.match.params.id,n.e(5).then(n.t.bind(null,674,7)),this.fetchEntryDetails(),this.fetchComponents()}},{key:"render",value:function(){var e=this;return l.default.createElement(m.default,{theme:d.MaterialTheme},l.default.createElement(x.default,{open:this.state.showProjectConfirmationDialog,onClose:this.hideProjectCompletionDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.default.createElement(j.default,{id:"alert-dialog-title"},"Mark project as complete?"),l.default.createElement(_.default,null,l.default.createElement(R.default,{id:"alert-dialog-description"},"Are you sure you want to mark this project as completed? Once you complete this action it cannot be reverted.")),l.default.createElement(O.default,null,l.default.createElement(c.default,{onClick:this.hideProjectCompletionDialog,color:"primary"},"Take me back"),l.default.createElement(c.default,{onClick:this.completeProject,color:"primary",autoFocus:!0},"Yup"))),l.default.createElement(x.default,{open:this.state.showStudentAddDialog,onClose:this.closeStudentDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.default.createElement(j.default,{id:"alert-dialog-title"},"Add another student"),l.default.createElement(_.default,null,l.default.createElement(R.default,{id:"alert-dialog-description"},"Enter the student name that you want you want to add to this project."),l.default.createElement(A.default,{label:"Student Name",fullWidth:!0,autoFocus:!0,value:this.state.newStudentName,onChange:this.editField("newStudentName")})),l.default.createElement(O.default,null,l.default.createElement(c.default,{onClick:this.closeStudentDialog,color:"primary"},"Take me back"),l.default.createElement(c.default,{onClick:this.addStudent,color:"primary"},"Done"))),l.default.createElement(x.default,{open:this.state.showNewComponentDialog,onClose:this.closeNewComponentDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.default.createElement(j.default,{id:"alert-dialog-title"},"Add new component"),l.default.createElement(_.default,null,l.default.createElement(R.default,{id:"alert-dialog-description"},"Choose the components that you want to add."),l.default.createElement("section",{className:"components"},0===this.state.entry.Components.length?null:this.state.entry.Components.map(function(t,n){return l.default.createElement(M.default,{label:l.default.createElement(P.default,{title:"Click here to edit the quantity"},l.default.createElement("span",null,t.name,l.default.createElement("input",{className:"component-quantity",value:t.quantity,onChange:e.changeComponentQuantity(n)}))),key:n,color:"secondary",style:{marginRight:".5rem"},onDelete:e.deleteChip(n)})}),l.default.createElement(A.default,{id:"component-input",onChange:this.editField("currentlyEditingComponent"),value:this.state.currentlyEditingComponent,InputProps:{endAdornment:l.default.createElement(L.default,{position:"end"},l.default.createElement(k.default,{onClick:this.endCurrentComponent},l.default.createElement(T.default,null)))},select:!0,SelectProps:{MenuProps:{PaperProps:{style:{maxHeight:"300px",overflowY:"auto"}}}},label:"Components",helperText:"Add components to issue, click on the plus icon"},0===this.state.components.length?l.default.createElement("div",{style:{padding:"1rem"}},l.default.createElement(p.CenteredLoader,{loaderText:"Loading..."})):0===this.state.components.filter(function(t){var n=!0;return e.state.components.forEach(function(e){e.name===t.Name&&"0"!==t.Available&&(n=!1)}),n}).length?l.default.createElement("div",{style:{padding:"1rem"}},"No more components in registry"):this.state.components.filter(function(t){var n=!0;return e.state.entry.Components.forEach(function(e){e.name===t.Name&&"0"!==t.Available&&(n=!1)}),n}).map(function(e){return l.default.createElement(I.default,{value:e.Name,key:e.id},e.Name)})))),l.default.createElement(O.default,null,l.default.createElement(c.default,{onClick:this.closeNewComponentDialog,color:"primary"},"Take me back"),l.default.createElement(c.default,{onClick:this.sendEditRequest,color:"primary"},"Done"))),l.default.createElement(x.default,{open:this.state.showComponentRemovalDialog,onClose:this.hideComponentRemovalDialog,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},l.default.createElement(j.default,{id:"alert-dialog-title"},"Remove this component?"),l.default.createElement(_.default,null,l.default.createElement(R.default,{id:"alert-dialog-description"},"Are you sure you want to remove this component from this project? This action cannot be reverted once completed.")),l.default.createElement(O.default,null,l.default.createElement(c.default,{onClick:this.hideComponentRemovalDialog,color:"primary"},"Take me back"),l.default.createElement(c.default,{onClick:this.removeComponent,color:"primary",autoFocus:!0},"Yup"))),l.default.createElement(i.SidebarPage,null,l.default.createElement(u.PageTitle,{name:"View Entry"}),this.state.entry?this.state.completedDelete?l.default.createElement("section",{className:"muted-notification",style:{margin:"150px 0"}},"Entry successfully marked as completed"):this.state.showProcessing?l.default.createElement(p.CenteredLoader,{loaderText:"Processing your request",style:{height:"500px"}}):l.default.createElement("section",{className:"details-view"},l.default.createElement("div",{style:{width:"400px"}},l.default.createElement(y.default,{style:{maxWidth:"400px"}},l.default.createElement(h.default,{style:{height:"140px",background:this.randomGradient},title:"Contemplative Reptile"}),l.default.createElement(g.default,null,l.default.createElement(E.default,{gutterBottom:!0,variant:"headline",component:"h2"},this.state.entry.ProjectName),l.default.createElement(E.default,{variant:"subheading",gutterBottom:!0},new Date(this.state.entry.IssueDate).toLocaleDateString()),l.default.createElement(E.default,{variant:"body1",className:"entry-details"},l.default.createElement("div",{className:"name-container"},"Issued To:",l.default.createElement("span",{className:"name"},this.state.entry.StudentName.split(",").map(function(e){return l.default.createElement(M.default,{style:{marginLeft:".3rem"},label:e.trim()})})),l.default.createElement(k.default,{size:"small",color:"primary",onClick:this.addStudentDialog},l.default.createElement(T.default,null))),l.default.createElement("div",{className:"roll-container"},"Roll No:",l.default.createElement("span",{className:"roll"},this.state.entry.StudentRoll)),l.default.createElement("div",{className:"class-container"},"Class:",l.default.createElement("span",{className:"class"},this.state.entry.StudentClass)),l.default.createElement("div",{className:"section-container"},"Section:",l.default.createElement("span",{className:"section"},this.state.entry.StudentSection))))),l.default.createElement("section",{className:"button-container"},l.default.createElement(c.default,{fullWidth:!0,color:"secondary",variant:"outlined",onClick:this.confirmCompletion},"Mark this entry as complete ",l.default.createElement(N.default,{className:"button-icon"})))),l.default.createElement("section",{className:"components-container"},l.default.createElement("div",{className:"title"},"Components Issued"),l.default.createElement(b.default,null,0!==this.state.entry.Components.length?this.state.entry.Components.map(function(t,n){return l.default.createElement(C.default,{key:n},console.log(t),l.default.createElement(w.default,null,t.name[0].toUpperCase()),l.default.createElement(v.default,{primary:t.name,secondary:"Issued "+t.quantity+" of this component."}),l.default.createElement(S.default,null,l.default.createElement(P.default,{placement:"top",title:"Edit component amount"},l.default.createElement(k.default,{"aria-label":"Edit",onClick:e.editComponent(t)},l.default.createElement(s.default,null))),l.default.createElement(P.default,{placement:"top",title:"Remove this component from the project"},l.default.createElement(k.default,{"aria-label":"Delete",onClick:e.confirmComponentRemoval(t)},l.default.createElement(D.default,null)))))}):l.default.createElement("section",{className:"muted-notification"},"No components registered"),l.default.createElement(C.default,{button:!0,onClick:this.startNewComponentTransaction},l.default.createElement(w.default,null,l.default.createElement(T.default,null)),l.default.createElement(v.default,{primary:"Add a component to this project"}))))):this.state.nonExistentEntry?l.default.createElement("section",{className:"muted-notification",style:{margin:"150px 0"}},"The entry you are trying to view doesn't exist"):l.default.createElement(p.CenteredLoader,{loaderText:"Fetching entry, just a second.",style:{height:"500px"}}),l.default.createElement(c.default,{component:f.Link,to:"/create",variant:"extendedFab","aria-label":"Create",color:"primary",className:"app-fab"},l.default.createElement(s.default,{style:{marginRight:"1rem"}}),"Create Entry")))}}],[{key:"getRandomGradient",value:function(){var e=["linear-gradient(to right, #667db6, #0082c8, #0082c8, #667db6)","linear-gradient(to right, #1a2a6c, #b21f1f, #fdbb2d)","linear-gradient(to right, #22c1c3, #fdbb2d)","linear-gradient(to right, #ff9966, #ff5e62)","linear-gradient(to right, #0cebeb, #20e3b2, #29ffc6)","linear-gradient(to right, #642b73, #c6426e)","linear-gradient(to right, #cb356b, #bd3f32)"];return e[Math.floor(Math.random()*e.length)]}}]),t}();t.default=z},522:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MaterialTheme=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(188));t.MaterialTheme=(0,a.default)({palette:{type:"dark",primary:{main:"#cc444b"},secondary:{main:"#42d9c8"}},typography:{fontFamily:'"Google Sans", "Poppins", "Roboto", "Helvetica Nueu", "Quicksand", "Segoe UI", "Calibri", Arial, sans-serif'}})},525:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarPage=void 0;var a=r(n(2)),o=r(n(526));function r(e){return e&&e.__esModule?e:{default:e}}t.SidebarPage=function(e){return a.default.createElement("section",{className:"site-page"},a.default.createElement(o.default,null),a.default.createElement("section",{className:"page-content "+e.className},e.children))}},526:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=n(2),r=y(o),l=n(527),i=n(82),u=y(n(531)),c=y(n(534)),s=y(n(535)),d=y(n(536)),m=y(n(537)),f=y(n(538)),p=n(190),h=n(528);function y(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}t.default=(0,p.withStore)(function(e){function t(){var e,n,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var o=arguments.length,r=Array(o),l=0;l<o;l++)r[l]=arguments[l];return n=a=g(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(r))),a.state={redirect:!1},a.logout=function(){a.props.store.set("authenticated")(!1),window.location.reload()},g(a,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){n.e(15).then(n.t.bind(null,557,7))}},{key:"render",value:function(){return r.default.createElement("section",{className:"sidebar"},this.state.redirect,r.default.createElement("div",{className:"component"},r.default.createElement(l.SlopLogo,null)),r.default.createElement(i.Link,{to:"/",className:"component"},r.default.createElement("section",{className:"content"},r.default.createElement("div",{className:"icon"},r.default.createElement(u.default,{style:{fontSize:"inherit"}})),r.default.createElement("div",{className:"text"},"Home"))),r.default.createElement(i.Link,{to:"/create",className:"component"},r.default.createElement("section",{className:"content"},r.default.createElement("div",{className:"icon"},r.default.createElement(c.default,{style:{fontSize:"inherit"}})),r.default.createElement("div",{className:"text"},"Insert Record"))),r.default.createElement(i.Link,{to:"/viewer",className:"component"},r.default.createElement("section",{className:"content"},r.default.createElement("div",{className:"icon"},r.default.createElement(s.default,{style:{fontSize:"inherit"}})),r.default.createElement("div",{className:"text"},"Entry Viewer"))),r.default.createElement(i.Link,{to:"/components",className:"component"},r.default.createElement("section",{className:"content"},r.default.createElement("div",{className:"icon"},r.default.createElement(d.default,{style:{fontSize:"inherit"}})),r.default.createElement("div",{className:"text"},"Components"))),r.default.createElement(i.Link,{to:"/backlog",className:"component"},r.default.createElement("section",{className:"content"},r.default.createElement("div",{className:"icon"},r.default.createElement(m.default,{style:{fontSize:"inherit"}})),r.default.createElement("div",{className:"text"},"Completed Projects"))),r.default.createElement("section",{className:"component",onClick:this.logout,style:{cursor:"pointer"}},r.default.createElement("section",{className:"content"},r.default.createElement("div",{className:"icon"},r.default.createElement(f.default,{style:{fontSize:"inherit"}})),r.default.createElement("div",{className:"text"},"Logout"))),r.default.createElement(h.Author,null))}}]),t}())},527:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SlopLogo=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.SlopLogo=function(e){return a.default.createElement("div",{style:{width:e.width?e.width:"64px",height:e.height?e.height:"64px"},className:"slop-logo"})}},528:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Author=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.Author=function(e){return a.default.createElement("section",{className:"author"},"Made with <3 by Gourab Nag")}},539:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PageTitle=void 0;var a=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.PageTitle=function(e){return a.default.createElement("section",{className:"page-title"},e.name)}}}]);